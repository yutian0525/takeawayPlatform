# 外卖平台项目开发报告

## 一、项目简介
本项目为一套基于前后端分离架构的外卖平台系统，前端采用 Vue3 + Element Plus，后端基于 Spring Boot，支持用户注册、登录、浏览商家、下单、评价、收藏等核心功能。本文档重点介绍本人负责的前端功能模块，包括收藏店铺、写评价、查看店家评价等页面的设计与实现。

## 二、项目结构概览
- 前端目录：`/frontend`
  - 主要页面：
    - `/src/views/UserFavorites.vue`（收藏店铺）
    - `/src/views/comments.vue`（商家评论）
    - `/src/views/myComments.vue`（我的评价）
    - `/src/views/Review.vue`（写评价）
- 后端目录：`/src/main/java/com/soft/controller`（接口详见《接口文档..md》）

## 三、功能实现详述

### 1. 收藏店铺功能（UserFavorites.vue）
#### 1.1 页面功能
- 展示当前用户已收藏的所有店铺，支持取消收藏操作。
- 若无收藏，展示引导用户去浏览店铺。

#### 1.2 技术实现
- 登录校验：页面加载时判断 sessionStorage 是否有用户信息，无则跳转登录。
- 数据获取：调用 `/favorite/list` 接口，传递 `accountId` 获取收藏店铺列表。
- 取消收藏：点击“取消关注”按钮，调用 `/favorite/cancel` 接口，成功后前端移除该店铺。
- 跳转详情：点击店铺项跳转至商家详情页。
- 组件复用：底部使用 `Footer` 组件，页面风格统一。

#### 1.3 代码亮点
- 响应式数据管理，收藏列表实时刷新。
- 交互友好，异常处理完善，用户体验良好。

### 2. 写评价功能（Review.vue）
#### 2.1 页面功能
- 用户可对已完成订单进行评价，包括评分和文字内容。
- 评价成功后自动跳转至订单列表。

#### 2.2 技术实现
- 路由参数获取订单号，页面挂载时通过 `/orders/getOrdersById/{orderId}` 获取订单详情。
- 评价提交：调用 `/comment/add` 接口，传递 `accountId`、`businessId`、`orderId`、评分和评价内容。
- 登录校验与表单校验，防止未登录或内容为空提交。
- 使用 Element Plus 的评分组件和输入框，界面美观。

#### 2.3 代码亮点
- 评价数据结构清晰，接口调用封装良好。
- 评价成功与失败均有用户提示，交互流畅。

### 3. 查看店家评价（comments.vue）
#### 3.1 页面功能
- 展示指定商家的所有用户评价，支持好评/差评筛选。
- 展示评价用户头像、昵称、评分、评价内容、时间等信息。

#### 3.2 技术实现
- 通过路由参数获取商家信息，调用 `/comment/list/{businessId}` 获取评论列表。
- 支持按评分筛选（全部、好评、差评），并动态计算商家平均分。
- 评价数据结构标准化，兼容后端返回的不同字段。
- 采用 Element Plus 的评分组件和空状态组件，提升视觉体验。

#### 3.3 代码亮点
- 评价列表映射与格式化处理，兼容性强。
- 平均分自动计算，页面数据与商家评分联动。

### 4. 我的评价（myComments.vue）
#### 4.1 页面功能
- 展示当前用户所有历史评价记录，支持好评/差评筛选。
- 展示评价内容、评分、时间、关联商家等信息。

#### 4.2 技术实现
- 登录校验，未登录自动跳转。
- 调用 `/comment/list/user/{accountId}` 获取当前用户所有评价。
- 支持筛选，评价内容格式化展示。
- 预留订单商品展示位，便于后续扩展。

#### 4.3 代码亮点
- 评价数据结构统一，便于维护和扩展。
- 交互细节完善，用户体验良好。

## 四、开发心得与优化建议
- 前后端接口设计规范，数据结构清晰，便于前端开发。
- 前端页面组件化、样式统一，提升了开发效率和可维护性。
- 建议后端接口返回字段进一步标准化，减少前端适配工作。
- 可考虑增加评价图片上传、评价回复等功能，丰富用户体验。
- 前端可引入全局状态管理（如 Pinia），优化用户信息与状态共享。

## 五、总结
本人主要负责了收藏店铺、写评价、查看店家评价等核心功能页面的开发与优化，涵盖了接口对接、数据处理、页面交互与样式设计等多个方面。通过本次开发，进一步提升了前后端协作能力和实际项目开发经验。